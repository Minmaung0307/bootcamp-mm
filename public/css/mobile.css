/* --- ၁။ အခြေခံ စာသားအရွယ်အစားများကို ညှိခြင်း (Global Typography) --- */
html { font-size: 16px; } /* Base size */

@media (max-width: 768px) {
    html { font-size: 14px; } /* ဖုန်းမှာ စာလုံးတွေကို အနည်းငယ်သေးလိုက်မည် */
    
    .body-container {
        padding: 15px; /* ဘေးနေရာလွတ်များကို လျှော့မည် */
    }
}

/* --- ၂။ Sidebar Mobile Optimization --- */
@media (max-width: 768px) {
    .sidebar {
        width: 80% !important; /* ဖုန်းမျက်နှာပြင်ရဲ့ ၈၀ ရာခိုင်နှုန်းပဲ ယူမည် */
        max-width: 300px;
    }

    .sidebar-header h3 {
        font-size: 1.2rem; /* App နာမည်ကို သေးလိုက်မည် */
    }

    .nav-links a {
        padding: 12px 20px; /* Menu တစ်ခုချင်းစီရဲ့ အမြင့်ကို လျှော့မည် */
        font-size: 1rem;
    }

    .sidebar-footer {
        padding: 10px;
    }
}

/* --- ၃။ Dashboard Cards & Grids (Phone Fix) --- */
@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr !important; /* ဖုန်းမှာ ကတ်တွေကို တစ်ခုချင်းစီ အပေါ်အောက် စီမည် */
        gap: 15px;
    }

    .topic-card {
        padding: 20px !important; /* ကတ်အတွင်းထဲက နေရာလွတ် လျှော့မည် */
    }

    .card-icon i {
        font-size: 2rem !important; /* Icon အကြီးကြီးတွေကို သေးမည် */
    }

    .welcome-banner {
        padding: 20px;
        margin-bottom: 20px;
    }
    
    .welcome-banner h2 { font-size: 1.4rem; }
}

/* --- ၄။ Input Fields & Buttons (Oversize Fix) --- */
input, select, textarea, .edit-input {
    font-size: 16px !important; /* iPhone မှာ input နှိပ်ရင် zoom ဖြစ်တာကို ကာကွယ်ရန် */
    padding: 10px 15px !important;
}

@media (max-width: 768px) {
    .save-btn, .menu-btn {
        width: 100%; /* ဖုန်းမှာ ခလုတ်တွေကို အပြည့်ထားတာက နှိပ်ရပိုလွယ်ပါသည် */
        height: 44px; /* Touch target စံနှုန်း */
        font-size: 0.95rem;
    }

    /* ၁။ ခေါင်းစဉ်ကို နေရာပိုပေးရန် Search Box ကို ဖုန်းမှာ ဖျောက်ထားမည် (သို့မဟုတ်) သေးမည် */
    .search-box.no-mobile {
        display: none !important; 
    }
    
    .top-nav {
        padding: 10px 15px !important;
        justify-content: flex-start !important; /* ဘယ်ဘက်ကပ်မည် */
        gap: 10px;
    }
    
    #page-title {
        display: block !important;
        max-width: 180px; 
        font-size: 1rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        flex: 1;
        margin-left: 5px;
        color: var(--text-main);
    }

    /* Menu ခလုတ်ထဲက "Menu" စာသားကို ဖျောက်ပြီး Icon ပဲပြမည် */
    .menu-btn {
        width: 40px !important;
        height: 40px !important;
        padding: 0 !important;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }

    .menu-btn span, .menu-btn .btn-text { 
        display: none !important; 
    }
}

/* --- ၅။ Messenger & Discussions (Mobile View) --- */
@media (max-width: 768px) {
    .messaging-layout {
        flex-direction: column; /* Messenger မှာ ဘယ်/ညာ ခွဲမပြဘဲ အပေါ်အောက်ပြမည် */
        height: 85vh;
    }

    .chat-sidebar {
        width: 100%;
        height: 200px; /* လူစာရင်းကို အပေါ်မှာ ခဏပြမည် */
        border-right: none;
        border-bottom: 1px solid var(--border-color);
    }

    .message-bubble {
        max-width: 90%; /* စာတို bubble များကို ပိုကျယ်စေမည် */
    }
}

/* ==========================================
   Mobile Optimized Learning Experience
   ========================================== */

@media (max-width: 768px) {
    /* ၁။ Pagination Fix (Prev/Next ခလုတ်များ) */
    .pagination {
        display: flex !important;
        flex-direction: row !important; /* ဘေးတိုက်ထားမည် */
        justify-content: space-between;
        gap: 15px !important; /* ခလုတ်ကြား နေရာလွတ် */
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid var(--border-color);
    }

    .pagination .menu-btn {
        flex: 1; /* ခလုတ်နှစ်ခုလုံးကို ဆိုဒ်တူညီစေမည် */
        padding: 12px !important;
        height: 48px !important; /* နှိပ်ရလွယ်ကူသော အမြင့် */
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        border-radius: 10px !important;
    }

    /* ၂။ Lesson Discussion (Comment Box) Fix */
    .chat-input-box {
        display: flex !important;
        align-items: center;
        gap: 8px;
        padding: 10px !important;
        background: var(--main-bg);
        border-radius: 30px; /* ဆန်းသစ်သော ဘောင်ဝိုင်းပုံစံ */
        border: 1px solid var(--border-color);
        margin-top: 15px;
    }

    .chat-input-box input {
        flex: 1;
        border: none !important; /* အပြင်ဘောင်ဖျောက်မည် */
        background: transparent !important;
        padding: 8px 15px !important;
        font-size: 16px !important; /* iOS Zoom မဖြစ်အောင် */
    }

    .chat-input-box button {
        width: 40px !important;
        height: 40px !important;
        border-radius: 50% !important; /* စက်ဝိုင်းပုံ ပို့ဆောင်သည့်ခလုတ် */
        padding: 0 !important;
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* ၃။ Article Content Visibility */
    .article-content {
        line-height: 1.8;
        font-size: 1.05rem; /* စာဖတ်ရပိုကောင်းအောင် အနည်းငယ်ကြီးမည် */
    }

    .article-content img, .article-content iframe {
        border-radius: 10px;
        margin: 15px 0;
        width: 100% !important; /* ပုံနှင့် ဗီဒီယိုများ ဘောင်မကျော်စေရန် */
    }

    /* ၄။ Academic Achievement Grid on Mobile */
    .academic-box {
        display: block !important; /* ဘယ်/ညာ ခွဲမထားဘဲ အပေါ်အောက်ပြမည် */
    }
    
    .academic-item {
        display: flex;
        justify-content: space-between;
        padding: 12px 0;
        border-bottom: 1px solid var(--border-color);
    }
}

@media (max-width: 768px) {
    /* ခလုတ်ထဲက စာသားတွေကို ဖျောက်ပြီး Icon ပဲပြရန် */
    .menu-btn span, 
    .save-btn span,
    .btn-text {
        display: none !important;
    }

    .menu-btn, .save-btn {
        min-width: 45px !important; /* ခလုတ်ကို အဝိုင်း (သို့) လေးထောင့်ကျကျ ဖြစ်စေရန် */
        width: auto !important;
        padding: 10px !important;
        justify-content: center !important;
    }

    .menu-btn i, .save-btn i {
        margin: 0 !important;
        font-size: 1.2rem;
    }

    /* Welcome Banner Layout Fix (ပုံထဲကလို စာသားတွေ ထပ်မနေစေရန်) */
    .welcome-banner {
        padding: 20px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 15px;
    }

    .welcome-banner h2 {
        font-size: 1.3rem !important;
    }

    /* Notebook Download Button Fix */
    #download-btn-container {
        display: flex;
        justify-content: flex-end;
    }
}